<html>

<head>
    <title>Halls of Mind: Voting</title>
    <link rel='shortcut icon' href='logo.png'>
    <meta http-equiv='Cache-Control' content='private' charset='utf-8'>
    
    <link rel='stylesheet' type='text/css' href='css/main.css?0728'>
    <link rel='stylesheet' type='text/css' href='css/fonts.css?0723'>
    
    <script type='text/javascript' src='jquery-3.5.0.min.js'></script>
</head>



<body>
    
    <style>
    
    /* CSS Grid */
    body {
        display: grid;
        grid-template-areas: 
        "header header header"
        "article article article"
        "footer footer footer";
        grid-template-rows: 120px 1fr 60px;
        grid-template-columns: 32px 1fr;
        grid-gap: 0px;
        height: 100vh;
        margin: 0;
    }
    
    header, footer, article {
        padding: 20px;
    }
    
    #pageHeader {
        grid-area: header;
        background-color: #444444;
    }
    
    #pageFooter {
        grid-area: footer;
        background-color: #444444;
        padding: 30px 20px 40px 20px;
    }
    
    #pageCore {
        grid-area: article;
        background-color: #ffffff;
    }
    
    </style>
    
    
    <div id='pageHeader' style='padding: 32px 20px 32px 64px'>
        <div style='display: flex; flex-direction: row; justify-content: space-between; align-items: stretch;'>
            <div>
                <p class='font_bold texts_light trs' style='font-size: 1.6em; margin-bottom: 8px' l_ua='Чертоги Розуму (модель "Голосування")' l_en='Halls of Mind (model "Voting")'>Чертоги Разума (модель "Голосование")</p>
                <p class='font_light texts_light'>developed by <a class='link_common' href='https://andreaskostenko.space'>andreaskostenko</a>, <a class='link_common' href='https://github.com/andreaskosten/halls_of_mind_voting'>see on Github</a></p>
            </div>
            
            <div>
                <span class='btns_language btns_language_0' to_lang='l_en'>EN</span>
                <span class='btns_language btns_language_0' to_lang='l_ua'>UA</span>
                <span class='btns_language btns_language_1' to_lang='l_ru'>RU</span>
                <span id='var_language' class='hidden'>ru</span>
            </div>
        </div>
    </div>
    
    
    <div id='pageCore' style='margin-bottom: 100px' align='center'>
    	<div style='display: block; width: 100%' align='center'>
            
            <div style='margin: 32px 0px 32px 64px' align='left'>
                <span class='btn_simple btn_simple_available trs' id='btn_show_info' onclick='$("#div_info").removeClass("hidden"); $(this).addClass("hidden");' 
                l_ua='дізнатися більше' l_en='learn more'>узнать больше</span>
            </div>
            
            <div id='div_info' class='hidden' style='margin: 12px 64px 12px 64px; background-color: #fafafa; padding: 18px;' align='left'>
                
                <p class='text_info trs'
                l_ua='Це демонстрація моєї методики зваженого прийняття Рішень.'
                l_en='There is demo of my technique of balanced decision making.'>Это демонстрация моей методики взвешенного принятия Решений.</p>
                
                <p class='text_info trs'
                l_ua='Вона базується на деяких основних цінностях (Елементи-Критерії), якими я керуюся.'
                l_en='It is based on some main values (Elements-Criteria), that I bring.'>Она базируется на неких основных ценностях (Элементы-Критерии), которыми я руководствуюсь.</p>
                
                <p class='text_info trs' style='margin-top: 12px'
                l_ua='Ось порядок дій за цією методикою:'
                l_en='There is course of actions under this technique:'>Вот порядок действий по этой методике:</p>
                <p class='text_info trs'
                l_ua='1. Сформулювати питання, що вас непокоїть, наприклад "Чи маю я цілком відмовитися від вживання алкоголю?"'
                l_en='1. Formulate disturbing question, e.g. "Should I completely refuse consumption of alcohol?"'>1. Cформулировать беспокоящий вопрос, например: "Стоит ли мне полностью отказаться от употребления алкоголя?".</p>
                <p class='text_info trs'
                l_ua='2. Перетворити це питання в проект Рішення: "Я маю намір цілком відмовитися від вживання алкоголю".'
                l_en='2. Transform this question in the project of the Decision: "I intend to completely refuse consumption of alcohol".'>2. Превратить этот вопрос в проект Решения: "Я собираюсь полностью отказаться от употребления алкоголя".</p>
                <p class='text_info trs'
                l_ua='3. Почати голосування і відповісти на питання Елементів-Критеріїв щодо цього Рішення.'
                l_en='3. Begin the voting procedure and answer questions of Elements-Criteria about this Decision.'>3. Начать голосование и ответить на вопросы Элементов-Критериев насчёт этого Решения.</p>
                <p class='text_info trs'
                l_ua='4. Отримати розрахунок результатів голосування, який базується на простому принципі співвідношення кількостей голосів "за" і голосів "проти".'
                l_en='4. Get results of the voting, which are based on simple principle of balance between quantities of votes "endorse" and votes "against".'>4. Получить расчёт результатов голосования, который базируется на простом принципе соотношения количеств голосов "за" и голосов "против".</p>
            </div>
            
    	    <div style='margin: 24px 0px 24px 64px' align='left'>
                <span class='btn_simple btn_simple_available btn_toggle_voting_process trs' id='btn_voting_begin' l_ua='почати голосування' l_en='begin voting'>начать голосование</span>
                <span class='btn_simple btn_simple_available btn_toggle_voting_process trs hidden' id='btn_voting_break' l_ua='перервати голосування' l_en='break voting'>прервать голосование</span>
            </div>
            
            <div id='div_helper_voting' class='hidden' style='margin: 24px 0px 0px 64px' align='left'>
                <div style='display: flex; flex-direction: row; justify-content: flex-start; align-items: center; margin-bottom: 12px'>
                    <div><p class='trs' style='margin: 0px; padding: 0px' l_ua='Щоб голосувати, слідуй за підказкою' l_en='Follow tips in order to vote:'>Чтобы голосовать, следуй за подсказкой:</p></div>
                    <div><img class='no_select' style='width: 32px' src='img/tip_mouse_leftclick.png'></div>
                </div>
                
                <span class='btn_simple btn_simple_available trs' onclick='simulate_full_voting();' l_ua='симулювати голосування всіх елементів' l_en='simulate voting of all Elements'>симулировать голосование всех элементов</span>
            </div>
            
            <div style='display: none; margin: 24px 0px 0px 64px'>
                <p class='text_vars'>var_current_procedure: <b id='var_current_procedure'>none</b></p>
                <p class='text_vars'>var_voting_format: <b id='var_voting_format'>long</b></p>
                <p class='text_vars'>var_cursor_at_elem: <b id='var_cursor_at_elem'>none</b></p>
                <p class='text_vars'>var_who_is_voting_now: <b id='var_who_is_voting_now'>none</b></p>
                
                <p class='text_vars'>var_answer_1: <b id='var_answer_1'>none</b></p>
                <p class='text_vars'>var_answer_2: <b id='var_answer_2'>none</b></p>
            </div>
            
            <div style=''>
            	<div style='position: relative; width: 100%'>
            	    
            	    <div style='margin-top: 120px; display: flex; flex-direction: row; justify-content: center; align-items: stretch;'>
            	        <div class='div_of_element_outer'>
            		        <div class='div_of_element'>
            		            <div class='element_background hidden' id='back_Health'></div>
            		            <img class='element_picture canonic_border no_select' id='elem_Health' voted='0' src='img/elements/Здоровье.jpg' l_ru='Здоровье' l_ua="Здоров'я" l_en='Health'>
            		            <div style='display: none'>
            		                <span class='trs' id='q1-Health'
            		                l_ua="Рішення створить загрозу / шкоду здоров'ю?"
            		                l_en='Will the Decision endanger my health or cause harm to my health?'>Решение создаст угрозу / вред здоровью?</span>
            		                <span class='trs' id='q2-Health'
            		                l_ua="Рішення допоможе укріпити здоров'я?"
            		                l_en='Will the Decision help to improve my health?'>Решение поможет укрепить здоровье?</span>
            		            </div>
            		        </div>
            		        
            		        <img class='img_tip_leftclick hidden no_select' src='img/tip_mouse_leftclick.png'>
            		        <img class='img_tip_contradiction hidden no_select' id='contradiction_Health' src='img/tip_contradiction.png'>
            		    </div>
            	        
            	        <div class='div_of_element_outer'>
            		        <div class='div_of_element'>
            		            <div class='element_background hidden' id='back_Safety'></div>
            		            <img class='element_picture canonic_border no_select' id='elem_Safety' voted='0' src='img/elements/Сохранность.jpg' l_ru='Сохранность' l_ua='Безпека' l_en='Safety'>
            		            <div style='display: none'>
            		                <span class='trs' id='q1-Safety'
            		                l_ua='Рішення створить загрозу моїй схоронності/безпеці?'
            		                l_en='Will the Decision endanger my safety/security?'>Решение создаст угрозу моей сохранности / безопасности?</span>
            		                <span class='trs' id='q2-Safety'
            		                l_ua='Рішення укріпить мою схоронність/безпеку?'
            		                l_en='Will the Decision improve my safety/security?'>Решение укрепит мою сохранность / безопасность?</span>
            		            </div>
            		        </div>
            		        
            		        <img class='img_tip_leftclick hidden no_select' src='img/tip_mouse_leftclick.png'>
            		        <img class='img_tip_contradiction hidden no_select' id='contradiction_Safety' src='img/tip_contradiction.png'>
            	        </div>
            	        
            	        <div class='div_of_element_outer'>
            		        <div class='div_of_element'>
            		            <div class='element_background hidden' id='back_Freedom'></div>
            		            <img class='element_picture canonic_border no_select' id='elem_Freedom' voted='0' src='img/elements/Свобода.jpg' l_ru='Свобода' l_ua='Свобода' l_en='Freedom'>
            		            <div style='display: none'>
            		                <span class='trs' id='q1-Freedom'
            		                l_ua='Рішення обмежить мою свободу, зробить мене менш вільним?'
            		                l_en='Will the Decision restrict my freedom, make me less free?'>Решение ограничит мою свободу, сделает меня менее свободным?</span>
            		                <span class='trs' id='q2-Freedom'
            		                l_ua='Рішення збільшить мою свободу, зробить мене більш вільним?'
            		                l_en='Will the Decision increase my freedom, make me more free?'>Решение увеличит мою свободу, сделает меня более свободным?</span>
            		            </div>
            		        </div>
            		        
            		        <img class='img_tip_leftclick hidden no_select' src='img/tip_mouse_leftclick.png'>
            		        <img class='img_tip_contradiction hidden no_select' id='contradiction_Freedom' src='img/tip_contradiction.png'>
            	        </div>
            	        
            	        <div class='div_of_element_outer'>
            		        <div class='div_of_element'>
            		            <div class='element_background hidden' id='back_Advance'></div>
            		            <img class='element_picture canonic_border no_select' id='elem_Advance' voted='0' src='img/elements/Развитие.jpg' l_ru='Развитие' l_ua='Розвиток' l_en='Evolution'>
            		            <div style='display: none'>
            		                <span class='trs' id='q1-Advance'
            		                l_ua='Рішення завадить моєму розвитку?'
            		                l_en='Will the Decision prevent my evolution?'>Решение помешает моему развитию?</span>
            		                <span class='trs' id='q2-Advance'
            		                l_ua='Рішення допоможе мені розвинутися короткостроково або розвиватися довгостроково?'
            		                l_en='Will the Decision help me to evolute in short-term or long-term future?'>Решение поможет мне развиться краткосрочно или развиваться долгосрочно?</span>
            		            </div>
            		        </div>
            		        
            		        <img class='img_tip_leftclick hidden no_select' src='img/tip_mouse_leftclick.png'>
            		        <img class='img_tip_contradiction hidden no_select' id='contradiction_Advance' src='img/tip_contradiction.png'>
            	        </div>
            	        
            	        <div class='div_of_element_outer'>
            		        <div class='div_of_element'>
            		            <div class='element_background hidden' id='back_Economics'></div>
            		            <img class='element_picture canonic_border no_select' id='elem_Economics' voted='0' src='img/elements/Экономика.jpg' l_ru='Экономика' l_ua='Економіка' l_en='Economics'>
            		            <div style='display: none'>
            		                <span class='trs' id='q1-Economics'
            		                l_ua='Рішення створить загрозу чи заподіє шкоду моїй економіці (добробуту, забезпеченості)?'
            		                l_en='Will the Decision endanger or cause harm to my economics (welfare)?'>Решение создаст угрозу или причинит вред моей экономике (благополучию, обеспеченности)?</span>
            		                <span class='trs' id='q2-Economics'
            		                l_ua='Рішення допоможе укріпити мою економіку (благополуччя, забезпеченість)?'
            		                l_en='Will the Decision help to strengthen my economics (welfare)?'>Решение поможет укрепить мою экономику (благополучие, обеспеченность)?</span>
            		            </div>
            		        </div>
            		        
            		        <img class='img_tip_leftclick hidden no_select' src='img/tip_mouse_leftclick.png'>
            		        <img class='img_tip_contradiction hidden no_select' id='contradiction_Economics' src='img/tip_contradiction.png'>
            	        </div>
            	        
            	        <div class='div_of_element_outer'>
            		        <div class='div_of_element'>
            		            <div class='element_background hidden' id='back_Science'></div>
            		            <img class='element_picture canonic_border no_select' id='elem_Science' voted='0' src='img/elements/Наука.jpg' l_ru='Наука' l_ua='Наука' l_en='Science'>
            		            <div style='display: none'>
            		                <span class='trs' id='q1-Science'
            		                l_ua='Рішення йде проти моїх уявлень про науку і науковий підхід, тобто воно є з моєї точки зору науково необґрунтованим?'
            		                l_en='Will the Decision contrary to my perceptions of science and scientific approach (is it scientifically baseless from my point of view)?'>
            		                Решение идёт против моих представлений о науке и научному подходу, т.е. оно является с моей точки зрения научно необоснованным?</span>
            		                <span class='trs' id='q2-Science'
            		                l_ua='Рішення відповідає моїм уявленням про науку і науковий підхід, тобто воно є з моєї точки зору науково обґрунтованим?'
            		                l_en='Will the Decision meet my perceptions of science and scientific approach (is it scientifically rigorous from my point of view)?'>
            		                Решение соответствует моим представлениям о науке и научному подходу, т.е. оно является с моей точки зрения научно обоснованным?</span>
            		            </div>
            		        </div>
            		        
            		        <img class='img_tip_leftclick hidden no_select' src='img/tip_mouse_leftclick.png'>
            		        <img class='img_tip_contradiction hidden no_select' id='contradiction_Science' src='img/tip_contradiction.png'>
            	        </div>
            	        
            	        <div class='div_of_element_outer'>
            		        <div class='div_of_element'>
            		            <div class='element_background hidden' id='back_Duty'></div>
            		            <img class='element_picture canonic_border no_select' id='elem_Duty' voted='0' src='img/elements/Долг.jpg' l_ru='Долг' l_ua="Моральний обов'язок" l_en='Duty'>
            		            <div style='display: none'>
            		                <span class='trs' id='q1-Duty'
            		                l_ua="Рішення йде проти моїх уявлень про виконання мого морального обов'язку?"
            		                l_en='Will the Decision contrary to my perceptions of my moral duty?'>Решение идёт против моих представлений о выполнении моего долга?</span>
            		                <span class='trs' id='q2-Duty'
            		                l_ua="Рішення відповідає моїм уявленням про виконання мого морального обов'язку, слугує їх втіленню?"
            		                l_en='Will the Decision meet my perceptions of my moral duty?'>Решение соответствует моим представлениям о выполнении моего долга, служит их воплощению?</span>
            		            </div>
            		        </div>
            		        
            		        <img class='img_tip_leftclick hidden no_select' src='img/tip_mouse_leftclick.png'>
            		        <img class='img_tip_contradiction hidden no_select' id='contradiction_Duty' src='img/tip_contradiction.png'>
            	        </div>
            	        
            	        <div class='div_of_element_outer'>
            		        <div class='div_of_element'>
            		            <div class='element_background hidden' id='back_Equity'></div>
            		            <img class='element_picture canonic_border no_select' id='elem_Equity' voted='0' src='img/elements/Справедливость.jpg' l_ru='Справедливость' l_ua='Справедливість' l_en='Equity'>
            		            <div style='display: none'>
            		                <span class='trs' id='q1-Equity'
            		                l_ua='Рішення йде проти моїх уявлень про справедливість?'
            		                l_en='Will the Decision contrary to my perceptions of equity?'>Решение идёт против моих представлений о справедливости?</span>
            		                <span class='trs' id='q2-Equity'
            		                l_ua='Рішення відповідає моїм уявленням про справедливість, слугує їх втіленню?'
            		                l_en='Will the Decision meet my perceptions of equity and serve to their implement?'>Решение соответствует моим представлениям о справедливости, служит их воплощению?</span>
            		            </div>
            		        </div>
            		        
            		        <img class='img_tip_leftclick hidden no_select' src='img/tip_mouse_leftclick.png'>
            		        <img class='img_tip_contradiction hidden no_select' id='contradiction_Equity' src='img/tip_contradiction.png'>
            	        </div>
            	        
            	        <div class='div_of_element_outer'>
            		        <div class='div_of_element'>
            		            <div class='element_background hidden' id='back_Legality'></div>
            		            <img class='element_picture canonic_border no_select' id='elem_Legality' voted='0' src='img/elements/Правомерность.jpg' l_ru='Правомерность' l_ua='Правомірність' l_en='Legality'>
            		            <div style='display: none'>
            		                <span class='trs' id='q1-Legality'
            		                l_ua='Рішення порушить правомірність моїх дій?'
            		                l_en='Will the Decision disrupt legality of my actions?'>Решение нарушит правомерность моих действий?</span>
            		                <span class='trs' id='q2-Legality'
            		                l_ua='Рішення зробить мої дії більш правомірними?'
            		                l_en='Will the Decision make my actions more legal?'>Решение сделает мои действия более правомерными?</span>
            		            </div>
            		        </div>
            		        
            		        <img class='img_tip_leftclick hidden no_select' src='img/tip_mouse_leftclick.png'>
            		        <img class='img_tip_contradiction hidden no_select' id='contradiction_Legality' src='img/tip_contradiction.png'>
            	        </div>
            	        
            	        <div class='div_of_element_outer'>
            		        <div class='div_of_element'>
            		            <div class='element_background hidden' id='back_Authority'></div>
            		            <img class='element_picture canonic_border no_select' id='elem_Authority' voted='0' src='img/elements/Авторитет.jpg' l_ru='Авторитет' l_ua='Авторитет' l_en='Authority'>
            		            <div style='display: none'>
            		                <span class='trs' id='q1-Authority'
            		                l_ua='Рішення підірве мій авторитет у соціумі?'
            		                l_en='Will the Decision disrupt my authority in society?'>Решение подорвёт мой авторитет в обществе?</span>
            		                <span class='trs' id='q2-Authority'
            		                l_ua='Рішення укріпить мій авторитет у соціумі?'
            		                l_en='Will the Decision strengthen my authority in society?'>Решение укрепит мой авторитет в обществе?</span>
            		            </div>
            		        </div>
            		        
            		        <img class='img_tip_leftclick hidden no_select' src='img/tip_mouse_leftclick.png'>
            		        <img class='img_tip_contradiction hidden no_select' id='contradiction_Authority' src='img/tip_contradiction.png'>
            		    </div>
            	    </div>
            	    
            	    
            	    <!-- панель развёрнутого голосования -->
            	    <div id='div_panel_long_voting' class='canonic_border' style='display: none; margin-top: 12px; width: 640px; background-color: #333; z-index: 30'>
            	        <div style='position: relative'>
            		        <span class='mo_bright' id='btn_close_plv' style='position: absolute; cursor: pointer; right: 2px; color: #555; font-family: "font_semibold"'>[x]</span>
            		        
            		        <div style='padding-top: 20px'>
                		        <div style='display: flex; flex-direction: row; justify-content: center; align-items: center;'>
                		            <div style='margin-right: 24px'><img id='img_of_element_voting' class='canonic_border no_select' style='width: 32px'></div>
                		            <div><p id='txt_title_of_element_voting' style='color: #fafafa; font-family: "font_semibold"; margin: 0px; padding: 0px'></p></div>
                		        </div>
            		        </div>
            		        
            		        <div style='padding: 24px;'>
            			        <p id='plv_question_1' class='text_question' style=''>Вопрос_1</p>
            			        <span class='btn_long_voting btn_plv_answer anim_mouseover trs' id='btn_plv_answer_q1_yes' my_oppo='btn_plv_answer_q1_no' myval='yes' l_ua='ТАК' l_en='YES'>ДА</span>
            			        <span class='btn_long_voting btn_plv_answer anim_mouseover trs' id='btn_plv_answer_q1_no' my_oppo='btn_plv_answer_q1_yes' myval='no' l_ua='НІ' l_en='NO'>НЕТ</span>
            			        
            			        <p id='plv_question_2' class='text_question' style='margin-top: 24px'>Вопрос_2</p>
            			        <span class='btn_long_voting btn_plv_answer anim_mouseover trs' id='btn_plv_answer_q2_yes' my_oppo='btn_plv_answer_q2_no' myval='yes' l_ua='ТАК' l_en='YES'>ДА</span>
            			        <span class='btn_long_voting btn_plv_answer anim_mouseover trs' id='btn_plv_answer_q2_no' my_oppo='btn_plv_answer_q2_yes' myval='no' l_ua='НІ' l_en='NO'>НЕТ</span>
            			        
            			        <div style='margin-top: 18px'>
            			            <span class='btn_long_voting anim_mouseover trs' id='btn_end_plv' style='visibility: hidden; width: auto' l_ua='позиція сформована' l_en='position is ready'>позиция сформирована</span>
            			        </div>
            		        </div>
            		    </div>
            	    </div>
            	    
            	    
            	    <!-- подсказка о названиях элементов -->
            	    <div style='position: absolute; width: 256px; left: calc(50% - 128px); top: 220px'>
            			<p id='tip_element_name' style='color: #444444; font-size: 1.4em; text-align: center; font-family: "font_bold"'></p>
            		</div>
            		
            	    
            	    <!-- кнопка подсчёта и дополнительные тексты -->
            	    <div id='div_prelast' class='' style='margin: 60px 0px 0px 0px'>
            	        <p class='hidden trs' id='txt_contradictions_detected'
            	        l_ua='Є елементи, на обидва питання яких дані відповіді "так" (виділені <b style="color: #f4a60b">жовтим</b>).<br>Це стан внутрішнього протиріччя, яке треба зняти.<br>
            	        Необхідно врешті-решт відповісти інакше, щоб отримати доступ до результатів голосування.'
            	        l_en='There are Elements with answers "yes" on both questions (highlighted in <b style="color: #f4a60b">yellow</b>).<br>This is state of inner contradiction.<br>
            	        You need finally ask them differently in order to get access to the results of voting.'>
            	        Есть элементы, по обоим вопросам которых даны ответы "да" (выделены <b style='color: #f4a60b'>жёлтым</b>).<br>Это состояние внутреннего противоречия, которое нужно снять.<br>
            	        Необходимо в конечном итоге ответить иначе, чтобы получить доступ к результатам голосования.</p>
            	        
            	        <span class='btn_simple btn_simple_available hidden trs' id='btn_calculate_votes' l_ua='підрахувати голоси' l_en='count votes'>подсчитать голоса</span><br>
            	    </div>
            	    
            	    
            	    <!-- панель с результатами -->
            	    <div id='div_voting_results' class='hidden canonic_border' style='margin: 24px 32px 50px 32px; padding: 18px 0px 18px 0px'>
                        <div id='voting_results' style='color: #444444; text-align: left; padding: 12px 24px 12px 24px; font-family: "font_normal"'></div>
                    </div>
            	</div>
            </div>
    	</div>
    </div>
    
    
    <div id='pageFooter' style='padding: 40px 20px 60px 20px' align='center'>
        
        <p class='texts_light font_light'>images were taken from <a class='link_common' href='https://ru.wowhead.com'>wowhead.com</a></p>
    </div>
    
    
    <script>
        
        // страница загружена:
        $(document).ready(function(){
            $('html, body').animate({ scrollTop: 0 }, 200);
            
            change_language('l_ua');
        });
        
        // курсор наведён на элемент:
        $('.element_picture').mouseover(function(){
            
            let lang = $('#var_language').text();
        	$('#tip_element_name').text( $(this).attr('l_'+lang) );
        });
        
        // курсор вышел из элемента:
        $('.element_picture').mouseleave(function(){
            
        	$('#tip_element_name').text('');
        });
        
        
        // клик - переход к голосованию:
        $('.btn_toggle_voting_process').click(function(){
            
            // в любом случае спрятать кнопку подсчёта голосов:
            $('#btn_calculate_votes').addClass('hidden');
            
            // если голосование не идёт:
            if( $('#var_current_procedure').text() != 'voting' ){
                
                $('#div_helper_voting').removeClass('hidden');
                
                $(this).addClass('hidden');
                $('#btn_voting_break').removeClass('hidden');
                
                // показать изображения-подсказки:
                $('.img_tip_leftclick').removeClass('hidden');
                
                // показать рамку:
                    $('.div_of_element').css('box-shadow', '0px 0px 1px 0px #000');
                    $('.div_of_element').css('border', 'solid 1px #201c18');
                
                // выставить цвет фонов по умолчанию:
                $('.element_background').css('background-color', '#111111');
                
                // показать фоны:
                $('.element_background').removeClass('hidden');
                
                // выставить формат голосования по умолчанию:
                $('#var_voting_format').text('long');
                
                // скинуть все состояния голосов основных элементов:
                    $('.element_picture').attr('voted', '0');
            		$('.element_picture').attr('vote', 'none');
            		$('.element_picture').attr('question_one', '9');
            		$('.element_picture').attr('question_two', '9');
        		
        		// скинуть другие переменные:
        		    $('#var_who_is_voting_now').text('none');
        		    $('#var_answer_1').text('none');
        		    $('#var_answer_2').text('none');
                
                $('#var_current_procedure').text('voting');
            }
            
            // иначе, если голосование идёт:
            else{
                
                // закрыть панель развёрнутого голосования:
                close_plv();
                
                // спрятать ненужное:
                    $('#div_helper_voting').addClass('hidden');
                    $('.element_background').addClass('hidden');
                    $('.div_of_element').css('box-shadow', '0px 0px 0px 0px #000');
                    $('.div_of_element').css('border', 'solid 0px #000');
                    $('#btn_calculate_votes').addClass('hidden');
                    $('.img_tip_leftclick').addClass('hidden');
                    $('.img_tip_contradiction').addClass('hidden');
                    toggle_div_results_visibility(false);
                
                $('#var_current_procedure').text('none');
                
                $(this).addClass('hidden');
                $('#btn_voting_begin').removeClass('hidden');
            }
        });
        
        
        // наведение/вывод курсора с внешнего контейнера элемента:
        	$('.element_background').mouseover(function(){
        		$('#var_cursor_at_elem').text($(this).attr('id'));
        	});
        	$('.element_background').mouseleave(function(){
        		$('#var_cursor_at_elem').text('');
        	});
        
        
        // ввод курсора на изображение-подсказку:
        $('.img_tip_leftclick').mouseover(function(){
            $(this).addClass('hidden');
        });
        
        
        // клик - выбран элемент:
    	$('.element_background').click(function(){
    	    
    	    let elem_id = $(this).attr('id');
    	    elem_id = elem_id.replace(/back_/g, '');
    	    
    	    $('.img_tip_leftclick').addClass('hidden');
    	    show_voting_questions(elem_id);
    	});
    	
    	
    	// клик по изображению-предупреждению - симулировать клик по соотв. элементу:
    	$('.img_tip_contradiction').click(function(){
    	    
    	    let elem_id = $(this).attr('id');
    	    elem_id = elem_id.replace(/contradiction_/g, '');
    	    
    	    $('#back_' + elem_id).trigger('click');
    	});
        
        
        // функция - показать вопросы элемента для формирования позиции:   
        function show_voting_questions(elem_id){
                        //console.log('f "show_voting_questions" called with param "elem_id" = ' + elem_id );
            
    	    $('#var_who_is_voting_now').text( 'elem_' + elem_id );
    	    
    	    // спрятать ненужное:
    	        toggle_div_results_visibility(false);
    	        $('#btn_calculate_votes').addClass('hidden');
    	    
    	    if( $('#var_voting_format').text() == 'long' ){
    	        
    	        // выставить заголовок и изображение:
    	            //elem_id = 'elem_' + elem_id;
    	            let src = $('#elem_'+elem_id).attr('src');
    	            let title = src.replace(/img\/elements\//, '');
                    title = title.replace(/\.jpg/, '');
    	            $('#txt_title_of_element_voting').text( title );
    	            $('#img_of_element_voting').attr( 'src', src );
    	        
    	        // выставить вопросы на соответствующем языке:
    	            let lang = $('#var_language').text();
        	        $('#plv_question_1').text( $('#q1-'+elem_id).attr('l_'+lang) );
        	        $('#plv_question_2').text( $('#q2-'+elem_id).attr('l_'+lang) );
    	        
    	        $('#div_panel_long_voting').attr('answer_1', 'not_provided');
    	        $('#div_panel_long_voting').attr('answer_2', 'not_provided');
    	        $('#var_answer_1').attr('none');
    	        $('#var_answer_2').attr('none');
    	        
    	        // скинуть анимации кнопок ответов:
        	        $( '#btn_plv_answer_q1_yes' ).addClass('btn_long_voting').removeClass('btn_long_voting_done');
        	        $( '#btn_plv_answer_q1_no' ).addClass('btn_long_voting').removeClass('btn_long_voting_done');
        	        $( '#btn_plv_answer_q2_yes' ).addClass('btn_long_voting').removeClass('btn_long_voting_done');
        	        $( '#btn_plv_answer_q2_no' ).addClass('btn_long_voting').removeClass('btn_long_voting_done');
    	        
    	        // сменить видимость элементов:
        	        $('#btn_end_plv').css('visibility', 'hidden');
        	        $('#div_panel_long_voting').css('display', 'block');
        	        $('#div_prelast').addClass('hidden');
    	        
    	        scroll_page_down();
    	    }
    	    else{
    	        console.warn('".element_background" clicked, but voting_format is NOT long.');
    	    }
    	}
    	
    	
    	// клик - дан ответ на вопрос:
    	$('.btn_plv_answer').click(function(){
    	    
    	    $(this).addClass('btn_long_voting_done').removeClass('btn_long_voting');
    	    $( '#'+$(this).attr('my_oppo') ).addClass('btn_long_voting').removeClass('btn_long_voting_done');
    	    
    	    let a = $(this).attr('id');
    	    
    	    // выставить состояние выбранности ответа на 1-й вопрос:
    	    if( a == 'btn_plv_answer_q1_yes' || a == 'btn_plv_answer_q1_no' ){
    	        
    	        $('#div_panel_long_voting').attr('answer_1', 'provided');
    	        $('#var_answer_1').text( $(this).attr('myval') );
    	    }
    	    
    	    // выставить состояние выбранности ответа на 2-й вопрос:
    	    if( a == 'btn_plv_answer_q2_yes' || a == 'btn_plv_answer_q2_no' ){
    	        
    	        $('#div_panel_long_voting').attr('answer_2', 'provided');
    	        $('#var_answer_2').text( $(this).attr('myval') );
    	    }
    	    
    	    check_is_plv_ready_to_finish();
    	});
    	
    	
    	// функция - даны ли ответы на оба вопроса:
    	function check_is_plv_ready_to_finish(){
    	    if( $('#div_panel_long_voting').attr('answer_1') == 'provided' && $('#div_panel_long_voting').attr('answer_2') == 'provided' ){
    	        $('#btn_end_plv').css('visibility', 'visible');
    	    }
    	}
    	
    	
    	// клик - закрыть панель развёрнутого голосования:
    	$('#btn_end_plv').click(function(){ evaluate_answers($('#var_who_is_voting_now').text().replace(/elem_/g, ''), $('#var_answer_1').text(), $('#var_answer_2').text()); close_plv(); });
    	$('#btn_close_plv').click(function(){ close_plv(); });
    	
    	
    	// функция - оценить ответы в развёрнутом голосовании:
    	function evaluate_answers(elem_id, answer_1, answer_2){
    	    
    	    let position = evaluate_answers_combination(answer_1, answer_2);
    	    
    	    set_vote_of_element(elem_id, position, answer_1, answer_2);
    	}
    	
    	
    	// функция - оценить комбинацию ответов и выявить позицию элемента:
    	function evaluate_answers_combination(answer_1, answer_2){
    	    
    	    // ЕСЛИ на первый вопрос "ДА" и на второй "ДА":
    	    if( answer_1 == 'yes' && answer_2 == 'yes' ){
    	        
                return 'contr';
    	    }
    	    
    	    // ЕСЛИ на первый вопрос "ДА" и на второй "НЕТ":
    	    if( answer_1 == 'yes' && answer_2 == 'no' ){
                
                return 'no';
    	    }
    	    
    	    // ЕСЛИ на первый вопрос "НЕТ" и на второй "НЕТ":
    	    if( answer_1 == 'no' && answer_2 == 'no' ){
    	        
    	        return 'refr';
    	    }
    	    
    	    // ЕСЛИ на первый вопрос "НЕТ" и на второй "ДА":
    	    if( answer_1 == 'no' && answer_2 == 'yes' ){
    	        
    	        return 'yes';
    	    }
    	}
    	
    	
    	// функция - установить голос элемента:
        function set_vote_of_element(elem_id, set_vote, answer_1, answer_2){
                        //console.warn('f "set_vote_of_element" launched, elem_id = "' + elem_id + '"; set_vote = "' + set_vote + '".');
                        
            $('#elem_' + elem_id).attr('voted', '1');
            
            if( set_vote == 'yes' ){
    	        $('#back_' + elem_id).css('background-color', '#78e08f');
    			$('#elem_' + elem_id).attr('vote', 'yes');
            }
            
            if( set_vote == 'no' ){
    	        $('#back_' + elem_id).css('background-color', '#eb2f06');
    			$('#elem_' + elem_id).attr('vote', 'no');
            }
            
            if( set_vote == 'refr' ){
    	        $('#back_' + elem_id).css('background-color', '#0033cc');
    			$('#elem_' + elem_id).attr('vote', 'refr');
            }
            
            if( set_vote == 'contr' ){
    	        $('#back_' + elem_id).css('background-color', '#f6b93b');
    			$('#elem_' + elem_id).attr('vote', 'contr');
    			$('#elem_' + elem_id).attr('voted', '0');
    			
                // показать подсказку о противоречии:
    			$('#contradiction_' + elem_id).removeClass('hidden');
    			$('#txt_contradictions_detected').removeClass('hidden');
            }
            else{
                $('#contradiction_' + elem_id).addClass('hidden');
                if_no_contradictions();
            }
            
            $('#elem_' + elem_id).attr('answer_1', answer_1);
            $('#elem_' + elem_id).attr('answer_2', answer_2);
            
            // проверить, все ли проголосовали:
            if_every_element_voted();
        }
    	
    	
    	// функция - закрыть панель развёрнутого голосования
    	function close_plv(){
    	    
    	    $('#div_panel_long_voting').css('display', 'none');
    	    $('#div_panel_long_voting').attr('answer_1', 'not_provided');
    	    $('#div_panel_long_voting').attr('answer_2', 'not_provided');
    	    
    	    $('#div_prelast').removeClass('hidden');
    	    
    	    // проверить, все ли проголосовали:
            if_every_element_voted();
    	}
        
        
        // функция - проверить, все ли элементы проголосовали:
        function if_every_element_voted(){
            
            let vote;
            let is_every_element_voted = true;
            
            // для каждого элемента:
            $('.element_picture').each(function(i){
                
                vote = $('.element_picture:eq('+i+')').attr('voted');
                
                if( vote == '0' ){
                    is_every_element_voted = false;
                }
            });
            
            // если все проголосовали, показать кнопку подсчёта голосов:
            if( is_every_element_voted ){
    			
                $('#btn_calculate_votes').removeClass('hidden');
            }
        }
        
        
        // функция - проверить, есть ли противоречия:
        function if_no_contradictions(){
            
            let vote;
            let is_no_contradictions = true;
            
            // для каждого элемента:
            $('.element_picture').each(function(i){
                
                vote = $('.element_picture:eq('+i+')').attr('vote');
                
                if( vote == 'contr' ){
                    is_no_contradictions = false;
                }
            });
            
            // если нет противоречий, убрать текст о противоречиях:
            if( is_no_contradictions ){
                
                $('#txt_contradictions_detected').addClass('hidden');
            }
        }
        
        
        // клик - подсчитать голоса:
        $('#btn_calculate_votes').click(function(){
            
            let lang = $('#var_language').text();
            
            let f_answer_ye, f_answer_no, f_vote_ye, f_vote_no, f_vote_re, f_votes_ye, f_votes_no, f_votes_re;
            if( lang == 'ru' ){ f_answer_ye = 'да'; f_answer_no = 'не'; f_vote_ye = 'ЗА'; f_vote_no = 'ПРОТИВ'; f_vote_re = 'УДЕРЖ.'; f_votes_ye = 'голосов "за"'; f_votes_no = 'голосов "против"'; f_votes_re = 'голосов "удерж."'; }
            if( lang == 'ua' ){ f_answer_ye = 'так'; f_answer_no = 'ні'; f_vote_ye = 'ЗА'; f_vote_no = 'ПРОТИ'; f_vote_re = 'УТРИМ.'; f_votes_ye = 'голосів "за"'; f_votes_no = 'голосів "проти"'; f_votes_re = 'голосів "утрим."'; }
            if( lang == 'en' ){ f_answer_ye = 'ye'; f_answer_no = 'no'; f_vote_ye = 'ENDORSE'; f_vote_no = 'AGAINST'; f_vote_re = 'REFRAIN'; f_votes_ye = 'votes "endorse"'; f_votes_no = 'votes "against"'; f_votes_re = 'votes "refrain"'; }
            
            $(this).addClass('hidden');
            
            // закрыть панель развёрнутого голосования, если она вдруг открыта:
            close_plv();
            
            // спрятать подсказки:
            $('.img_tip_leftclick').addClass('hidden');
            
            // подготовка к анализу голосов:
                let table_of_votes_content = '';
                let elem_name, which_vote, a_1, a_2, current_row, text_verdict;
                let cnt_ye = 0;
                let cnt_no = 0;
                let cnt_re = 0;
                let show_to = -1;
            
            
            // для каждого элемента:
            $('.element_picture').each(function(i){
                
        	    elem_name = $('.element_picture:eq('+i+')').attr('l_'+lang);
                
                which_vote = $('.element_picture:eq('+i+')').attr('vote');
                if( which_vote == 'yes' ){      which_vote = '<span class="vote_ye">'+f_vote_ye+'</span>';      cnt_ye++; show_to = cnt_ye; }
                if( which_vote == 'no' ){       which_vote = '<span class="vote_no">'+f_vote_no+'</span>';       cnt_no++; show_to = cnt_no; }
                if( which_vote == 'refr' ){     which_vote = '<span class="vote_re">'+f_vote_re+'</span>';     cnt_re++; show_to = cnt_re; }
                
                
                if( $('.element_picture:eq('+i+')').attr('answer_1') == 'yes' ){ a_1 = f_answer_ye; }
                if( $('.element_picture:eq('+i+')').attr('answer_1') == 'no' ){ a_1 = f_answer_no; }
                
                if( $('.element_picture:eq('+i+')').attr('answer_2') == 'yes' ){ a_2 = f_answer_ye; }
                if( $('.element_picture:eq('+i+')').attr('answer_2') == 'no' ){ a_2 = f_answer_no; }
                
                let img_url = $('.element_picture:eq('+i+')').attr('src');
                let img_td = '<img class="canonic_border no_select" style="width: 16px" src="' + img_url + '">';
                current_row = '<tr><td>' + img_td + '</td><td>' + elem_name + '</td><td></td><td></td><td>' + a_1+'/'+a_2 + '</td><td></td><td>></td><td>' + which_vote + '</td></tr>';
                
                table_of_votes_content += current_row;
            });
            
            let table_of_votes = '<table class="table_voting_results">' + table_of_votes_content + '</table>';
            
            
            // подсчёт голосов:
                let text_sums_of_votes = `
                <div class="div_flex_verdict"><div><p class="voting_results">` + f_votes_ye + `:</p></div><div><p class="voting_results vote_ye">` + cnt_ye + `</p></div></div>
                <div class="div_flex_verdict"><div><p class="voting_results">` + f_votes_no + `:</p></div><div><p class="voting_results vote_no">` + cnt_no + `</p></div></div>
                <div class="div_flex_verdict"><div><p class="voting_results">` + f_votes_re + `:</p></div><div><p class="voting_results vote_re">` + cnt_re + `</p></div></div>`;
                
                text_sums_of_votes = `<div style='margin: 24px 0px 24px 0px; width: 240px'>` + text_sums_of_votes + '</div>';
            
            
            // вердикт:
                // если голосов "ЗА" больше, чем голосов "ПРОТИВ":
                if( cnt_ye > cnt_no ){
                    if( lang == 'ru' ){ text_verdict = `<p class="voting_results">Голосов "за" больше, чем голосов "против".<br><br>Итак, решение допускается.</p>`; }
                    if( lang == 'ua' ){ text_verdict = `<p class="voting_results">Голосів "за" більше, ніж голосів "проти".<br><br>Отже, рішення допускається.</p>`; }
                    if( lang == 'en' ){ text_verdict = `<p class="voting_results">There are more votes "endorse" than votes "against".<br><br>So, the Decision is permitted.</p>`; }
                }
                
                // если голосов "ЗА" меньше, чем голосов "ПРОТИВ":
                if( cnt_ye < cnt_no ){
                    if( lang == 'ru' ){ text_verdict = `<p class="voting_results">Голосов "за" меньше, чем голосов "против".<br><br>Итак, решение <span class='font_semibold'>не</span> допускается.</p>`; }
                    if( lang == 'ua' ){ text_verdict = `<p class="voting_results">Голосів "за" менше, ніж голосів "проти".<br><br>Отже, рішення <span class='font_semibold'>не</span> допускається.</p>`; }
                    if( lang == 'en' ){ text_verdict = `<p class="voting_results">There are more votes "against" than votes "endorse".<br><br>So, the Decision is <span class='font_semibold'>not</span> permitted.</p>`; }
                }
                
                // если голосов "ЗА" столько же, сколько и голосов "ПРОТИВ":
                if( cnt_ye == cnt_no ){
                    if( lang == 'ru' ){ text_verdict = `<p class="voting_results">Голосов "за" столько же, сколько и голосов "против".<br><br>Итак, решение <span class='font_semibold'>не</span> допускается.</p>`; }
                    if( lang == 'ua' ){ text_verdict = `<p class="voting_results">Голосів "за" стільки ж, скільки й голосів "проти".<br><br>Отже, рішення <span class='font_semibold'>не</span> допускається.</p>`; }
                    if( lang == 'en' ){ text_verdict = `<p class="voting_results">There are as many votes "endorse" as there are votes "against".<br><br>So, the Decision is <span class='font_semibold'>not</span> permitted.</p>`; }
                }
            
            
            $('#voting_results').html(table_of_votes + text_sums_of_votes + text_verdict);
            toggle_div_results_visibility(true);
            
            scroll_page_down();
        });
        
        
        // функция - видимость контейнера с результатами голосования:
    	function toggle_div_results_visibility(status){
    	    
    	    if( status ){
    	        $('#div_voting_results').removeClass('hidden');
    	    }
    	    else{
    	        $('#div_voting_results').addClass('hidden');
    	    }
    	}
        
        
        // функция - получить случайным образом целое число в диапазоне:
        function get_random_int_between_ints(min, max) {
            let result = Math.floor(Math.random() * (max - min + 1)) + min;
            //console.log( 'rnd = ' + result );
            return result;
        }
        
        
        // функция - симулировать проголосованность всех элементов:
        function simulate_full_voting(){
            
            // спрятать кнопку подсчёта голосов:
            $('#btn_calculate_votes').addClass('hidden');
            
            // спрятать результаты голосования, если они были отображены:
            toggle_div_results_visibility(false);
            
            let elem_id, answer_1, answer_2, rnd;
            
            // для каждого элемента сгенерировать жизнеспособную комбинацию ответов:
            $('.element_picture').each(function(i){
                
                elem_id = $('.element_picture:eq('+i+')').attr('id');
                elem_id = elem_id.replace(/elem_/g, '');
                
                rnd = get_random_int_between_ints(0, 2);
                
                if( rnd == 0 ){
                    answer_1 = 'yes';
                    answer_2 = 'no';
                }
                
                if( rnd == 1 ){
                    answer_1 = 'no';
                    answer_2 = 'yes';
                }
                
                if( rnd == 2 ){
                    answer_1 = 'no';
                    answer_2 = 'no';
                }
                
                evaluate_answers(elem_id, answer_1, answer_2)
            });
        }
        
        
        // клик - смена языка:
        $('body').on('click', '.btns_language', function(event){
            
            let to_lang = $(this).attr('to_lang');
            change_language(to_lang);
        });
        
        
        var language_changed = false;
        
        
        // функция - смена языка:
        function change_language(to_lang){
            
            let to_lang_val = to_lang.replace(/l_/, '');
            $('#var_language').text(to_lang_val);
            
            // если смена языка идёт в первый раз за сеанс, сохранить текущие значения как l_ru:
            if( !language_changed ){
                            //console.log('saving ".trs" texts into "l_ru" attr');
                
                let text_ru;
                $('.trs').each(function(i){
                
                    text_ru = $('.trs:eq('+i+')').text();
                    $('.trs:eq('+i+')').attr('l_ru', text_ru);
                });
                
                language_changed = true;
            }
            
            let new_text;
            $('.trs').each(function(i){
                
                new_text = $('.trs:eq('+i+')').attr(to_lang);
                $('.trs:eq('+i+')').html(new_text);
            });
            
            $('.btns_language').addClass('btns_language_0').removeClass('btns_language_1');
			$('.btns_language[to_lang='+to_lang+']').addClass('btns_language_1').removeClass('btns_language_0');
        }
        
        
        // функция - скролл страницы вниз:
        function scroll_page_down(){
            $('html, body').animate({ scrollTop: $(document).height() }, 1200);
        }
        
        
        // открытие ссылок в новой вкладке:
        $('body').on('click', '.link_common', function(event){
            event.preventDefault();
            window.open($(this).attr('href'), '_blank');
        });
    </script>
</body>

</html>
